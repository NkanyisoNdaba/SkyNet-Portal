<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>SkyNet</title>
    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>

    <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css" />

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"
    />
    <link href="css/AdminLTE.min.css" rel="stylesheet" type="text/css" />

    <link href="css/_all-skins.min.css" rel="stylesheet" type="text/css" />

</head>

<body class="skin-blue">
    <header class="main-header">
        <a href="dashboard.html" class="logo">
            <b>SKY</b>NET Portal</a>
        <nav class="navbar navbar-static-top" role="navigation">
        </nav>
    </header>

    <section class="content-header">
        <br/>
        <button type="submit" class="btn button btn-default">Execute Command</button>
        <ol class="breadcrumb">
            <li>
                <button type="submit" class="btn button btn-default inLineButtons" data-bind="click: ShowAddAgentDialog.bind(this, true)">Add Agent</button>
            </li>
            <li>
                <button type="submit" class="btn button btn-default inLineButtons">Edit Agent</button>
            </li>
            <li>
                <button type="submit" class="btn button btn-default inLineButtons">Remove Agent</button>
            </li>
        </ol>
    </section>
    <hr/>
    <section class="content">

        <div class="row" data-bind='visible: ShouldShowAgents' id="agents">
            <ol class="content-header breadcrumb">
                <li>
                    <h4>Agents</h4>
                </li>
            </ol>
            <div class="data-bind=" foreach: Agents class="col-lg-3 col-xs-6">
                <div class="small-box" data-bind="style:{ 'background-color' :  $data.Status() }">

                    <div class="inner">
                        <h5>Last Command:&nbsp;
                            <span data-bind="text:Command"></span>
                        </h5>
                        <h5>Result:&nbsp;
                            <span data-bind="text:CommandResult"></span>
                        </h5>
                        <h5>Execution Time:&nbsp;
                            <span data-bind="text:CommandRunTimestamp"></span>
                        </h5>
                    </div>
                    <div class="icon">
                        <i class="ion ion-laptop"></i>
                    </div>
                </div>
            </div>
        </div>

        <div id="addAgent" data-bind='visible: ShouldShowAddAgent'>
            <fieldset class="content row">
                <legend>Add Agent</legend>
                <div class="style:{'color': red}" data-bind='visible: ShouldShowAddAgentError'>Cannot contact agent. Please check IP and port and try again.</div>
                <form data-bind="submit: AddAgent" class="col-lg-3 col-xs-6 jumbotron">
                    <div>
                        <label>Agent Name</label>
                        <input type="text" class="form-control" name="name" id="name" />
                    </div>
                    <div>
                        <label>IP Address</label>
                        <input type="text" class="form-control" name="ip"  id="id"/>
                    </div>
                    <div>
                        <label>Port</label>
                        <input type="text" class="form-control" name="port" id="port"/>
                    </div>
                    <br/>

                </div> <button type="#" class="btn button" data-bind="click: ShowAddAgentDialog.bind(this,false)">Cancel</button>
                    <button type="submit" class="btn button">Save</button>   </div>
                </form>
            </fieldset>
        </div>
        <div>

        </div>

    </section>
</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.2/knockout-min.js"></script>
<script src="js/index.js"></script>
<script>
    var mainViewModel = new AppViewModel();
    ko.applyBindings(mainViewModel);
</script>

</html>